<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>centOS 7 挂载硬盘 | jasvtfvan前端博客</title>
    <meta name="description" content="欢迎来到我的前端工厂">
    <link rel="icon" href="/fe-blog/github.ico">
    
    <link rel="preload" href="/fe-blog/assets/css/0.styles.68cfcd3e.css" as="style"><link rel="preload" href="/fe-blog/assets/js/app.8a3559bf.js" as="script"><link rel="preload" href="/fe-blog/assets/js/2.fbf19223.js" as="script"><link rel="preload" href="/fe-blog/assets/js/30.be6becb7.js" as="script"><link rel="prefetch" href="/fe-blog/assets/js/10.399f0c01.js"><link rel="prefetch" href="/fe-blog/assets/js/11.08202412.js"><link rel="prefetch" href="/fe-blog/assets/js/12.cfc10ac9.js"><link rel="prefetch" href="/fe-blog/assets/js/13.bdceb3a3.js"><link rel="prefetch" href="/fe-blog/assets/js/14.0c886dba.js"><link rel="prefetch" href="/fe-blog/assets/js/15.f5d42d2e.js"><link rel="prefetch" href="/fe-blog/assets/js/16.19c927b2.js"><link rel="prefetch" href="/fe-blog/assets/js/17.cc368339.js"><link rel="prefetch" href="/fe-blog/assets/js/18.99786a0e.js"><link rel="prefetch" href="/fe-blog/assets/js/19.2c96aa8f.js"><link rel="prefetch" href="/fe-blog/assets/js/20.feb358f9.js"><link rel="prefetch" href="/fe-blog/assets/js/21.854b8672.js"><link rel="prefetch" href="/fe-blog/assets/js/22.78adf0af.js"><link rel="prefetch" href="/fe-blog/assets/js/23.a8c123d2.js"><link rel="prefetch" href="/fe-blog/assets/js/24.65de2737.js"><link rel="prefetch" href="/fe-blog/assets/js/25.21f6581b.js"><link rel="prefetch" href="/fe-blog/assets/js/26.19b2e629.js"><link rel="prefetch" href="/fe-blog/assets/js/27.b0579100.js"><link rel="prefetch" href="/fe-blog/assets/js/28.a0c1bad8.js"><link rel="prefetch" href="/fe-blog/assets/js/29.3869f6fd.js"><link rel="prefetch" href="/fe-blog/assets/js/3.a5dd7d81.js"><link rel="prefetch" href="/fe-blog/assets/js/31.e027926c.js"><link rel="prefetch" href="/fe-blog/assets/js/32.dd112bea.js"><link rel="prefetch" href="/fe-blog/assets/js/33.2cdeb0bd.js"><link rel="prefetch" href="/fe-blog/assets/js/34.2eb22cbc.js"><link rel="prefetch" href="/fe-blog/assets/js/35.a1660bb3.js"><link rel="prefetch" href="/fe-blog/assets/js/36.3d49d679.js"><link rel="prefetch" href="/fe-blog/assets/js/37.2c728d3e.js"><link rel="prefetch" href="/fe-blog/assets/js/38.5b00cff3.js"><link rel="prefetch" href="/fe-blog/assets/js/39.bc2ccb29.js"><link rel="prefetch" href="/fe-blog/assets/js/4.54c72001.js"><link rel="prefetch" href="/fe-blog/assets/js/40.fe52d14c.js"><link rel="prefetch" href="/fe-blog/assets/js/41.da19c7de.js"><link rel="prefetch" href="/fe-blog/assets/js/42.82780c8a.js"><link rel="prefetch" href="/fe-blog/assets/js/43.ea864644.js"><link rel="prefetch" href="/fe-blog/assets/js/44.683e33ca.js"><link rel="prefetch" href="/fe-blog/assets/js/45.6ebdb1c6.js"><link rel="prefetch" href="/fe-blog/assets/js/46.d152d9d1.js"><link rel="prefetch" href="/fe-blog/assets/js/5.7519b52c.js"><link rel="prefetch" href="/fe-blog/assets/js/6.60bc9110.js"><link rel="prefetch" href="/fe-blog/assets/js/7.583a8196.js"><link rel="prefetch" href="/fe-blog/assets/js/8.b04d2cae.js"><link rel="prefetch" href="/fe-blog/assets/js/9.f4b536f6.js">
    <link rel="stylesheet" href="/fe-blog/assets/css/0.styles.68cfcd3e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fe-blog/" class="home-link router-link-active"><!----> <span class="site-name">jasvtfvan前端博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fe-blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">微信平台</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>公众号</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-blog/wechat/serviceaccount/local-debug.html" class="nav-link">本地调试</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">javascript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-blog/javascript/regexp/" class="nav-link">正则表达式</a></li><li class="dropdown-item"><!----> <a href="/fe-blog/javascript/highlights/" class="nav-link">基础集锦</a></li><li class="dropdown-item"><!----> <a href="/fe-blog/javascript/promise/" class="nav-link">promise</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">主流框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>vue2</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-blog/frame/vue2/source/observer.html" class="nav-link">框架源码</a></li><li class="dropdown-subitem"><a href="/fe-blog/frame/vue2/application/base.html" class="nav-link">框架应用</a></li></ul></li><li class="dropdown-item"><h4>react</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-blog/frame/react15/source/native.html" class="nav-link">react15源码</a></li><li class="dropdown-subitem"><a href="/fe-blog/frame/react16/source/fiber.html" class="nav-link">react16源码</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具环境</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-blog/enviroment/tools/git/" class="nav-link">git/git-flow</a></li><li class="dropdown-subitem"><a href="/fe-blog/enviroment/tools/node/" class="nav-link">node工具</a></li></ul></li><li class="dropdown-item"><h4>系统</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-blog/enviroment/os/centos/mnt.html" class="nav-link router-link-exact-active router-link-active">centOS</a></li><li class="dropdown-subitem"><a href="/fe-blog/enviroment/os/centos/cmd.html" class="nav-link">linux常用命令</a></li><li class="dropdown-subitem"><a href="/fe-blog/enviroment/os/mac/switch-hosts.html" class="nav-link">mac技巧</a></li></ul></li><li class="dropdown-item"><h4>部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-blog/enviroment/deploy/normal/" class="nav-link">常规部署</a></li><li class="dropdown-subitem"><a href="/fe-blog/enviroment/deploy/cicd/" class="nav-link">CI/CD</a></li><li class="dropdown-subitem"><a href="/fe-blog/enviroment/deploy/gitlab/" class="nav-link">gitlab搭建</a></li><li class="dropdown-subitem"><a href="/fe-blog/enviroment/deploy/docker/" class="nav-link">docker常用容器</a></li><li class="dropdown-subitem"><a href="/fe-blog/enviroment/deploy/cicd-pro/cicd.html" class="nav-link">CI/CD综合</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fe-blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">微信平台</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>公众号</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-blog/wechat/serviceaccount/local-debug.html" class="nav-link">本地调试</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">javascript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe-blog/javascript/regexp/" class="nav-link">正则表达式</a></li><li class="dropdown-item"><!----> <a href="/fe-blog/javascript/highlights/" class="nav-link">基础集锦</a></li><li class="dropdown-item"><!----> <a href="/fe-blog/javascript/promise/" class="nav-link">promise</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">主流框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>vue2</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-blog/frame/vue2/source/observer.html" class="nav-link">框架源码</a></li><li class="dropdown-subitem"><a href="/fe-blog/frame/vue2/application/base.html" class="nav-link">框架应用</a></li></ul></li><li class="dropdown-item"><h4>react</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-blog/frame/react15/source/native.html" class="nav-link">react15源码</a></li><li class="dropdown-subitem"><a href="/fe-blog/frame/react16/source/fiber.html" class="nav-link">react16源码</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具环境</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-blog/enviroment/tools/git/" class="nav-link">git/git-flow</a></li><li class="dropdown-subitem"><a href="/fe-blog/enviroment/tools/node/" class="nav-link">node工具</a></li></ul></li><li class="dropdown-item"><h4>系统</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-blog/enviroment/os/centos/mnt.html" class="nav-link router-link-exact-active router-link-active">centOS</a></li><li class="dropdown-subitem"><a href="/fe-blog/enviroment/os/centos/cmd.html" class="nav-link">linux常用命令</a></li><li class="dropdown-subitem"><a href="/fe-blog/enviroment/os/mac/switch-hosts.html" class="nav-link">mac技巧</a></li></ul></li><li class="dropdown-item"><h4>部署</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/fe-blog/enviroment/deploy/normal/" class="nav-link">常规部署</a></li><li class="dropdown-subitem"><a href="/fe-blog/enviroment/deploy/cicd/" class="nav-link">CI/CD</a></li><li class="dropdown-subitem"><a href="/fe-blog/enviroment/deploy/gitlab/" class="nav-link">gitlab搭建</a></li><li class="dropdown-subitem"><a href="/fe-blog/enviroment/deploy/docker/" class="nav-link">docker常用容器</a></li><li class="dropdown-subitem"><a href="/fe-blog/enviroment/deploy/cicd-pro/cicd.html" class="nav-link">CI/CD综合</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/fe-blog/enviroment/os/centos/mnt.html" class="active sidebar-link">centOS 7 挂载硬盘</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-blog/enviroment/os/centos/mnt.html#linux磁盘分区主要分为以下六步骤" class="sidebar-link">Linux磁盘分区主要分为以下六步骤</a></li><li class="sidebar-sub-header"><a href="/fe-blog/enviroment/os/centos/mnt.html#配置实例" class="sidebar-link">配置实例</a></li><li class="sidebar-sub-header"><a href="/fe-blog/enviroment/os/centos/mnt.html#_1-检查可用磁盘" class="sidebar-link">1,检查可用磁盘</a></li><li class="sidebar-sub-header"><a href="/fe-blog/enviroment/os/centos/mnt.html#_2-给-dev-sdb这块硬盘创建一个主分区" class="sidebar-link">2,给/dev/sdb这块硬盘创建一个主分区</a></li><li class="sidebar-sub-header"><a href="/fe-blog/enviroment/os/centos/mnt.html#_3-将硬盘的分区表写进内核" class="sidebar-link">3,将硬盘的分区表写进内核</a></li><li class="sidebar-sub-header"><a href="/fe-blog/enviroment/os/centos/mnt.html#_4-创建文件系统" class="sidebar-link">4,创建文件系统</a></li><li class="sidebar-sub-header"><a href="/fe-blog/enviroment/os/centos/mnt.html#_5-挂载" class="sidebar-link">5,挂载</a></li><li class="sidebar-sub-header"><a href="/fe-blog/enviroment/os/centos/mnt.html#_6-检查" class="sidebar-link">6,检查</a></li><li class="sidebar-sub-header"><a href="/fe-blog/enviroment/os/centos/mnt.html#视频链接" class="sidebar-link">视频链接</a></li><li class="sidebar-sub-header"><a href="/fe-blog/enviroment/os/centos/mnt.html#特别声明" class="sidebar-link">特别声明</a></li></ul></li><li><a href="/fe-blog/enviroment/os/centos/mnt-old.html" class="sidebar-link">centOS 7 挂载硬盘（不准确旧版）</a></li><li><a href="/fe-blog/enviroment/os/centos/cmd.html" class="sidebar-link">linux常用命令</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="centos-7-挂载硬盘"><a href="#centos-7-挂载硬盘" aria-hidden="true" class="header-anchor">#</a> centOS 7 挂载硬盘</h1> <h2 id="linux磁盘分区主要分为以下六步骤"><a href="#linux磁盘分区主要分为以下六步骤" aria-hidden="true" class="header-anchor">#</a> Linux磁盘分区主要分为以下六步骤</h2> <ul><li>1,检查可用磁盘</li> <li>2,分区</li> <li>3,内核读取新的分区表</li> <li>4,创建文件系统</li> <li>5,挂载</li> <li>6,检查</li></ul> <h2 id="配置实例"><a href="#配置实例" aria-hidden="true" class="header-anchor">#</a> 配置实例</h2> <p>分区前提:有一个块空的磁盘或者一块磁盘中有多余的容量</p> <h2 id="_1-检查可用磁盘"><a href="#_1-检查可用磁盘" aria-hidden="true" class="header-anchor">#</a> 1,检查可用磁盘</h2> <p>我有一块新的磁盘/dev/sdb<br>
fdisk -l</p> <div class="language-py line-numbers-mode"><pre class="language-py"><code><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span><span class="token comment"># fdisk -l</span>

<span class="token operator">&lt;</span>省略部分输出<span class="token operator">&gt;</span>

Disk <span class="token operator">/</span>dev<span class="token operator">/</span>sdb<span class="token punctuation">:</span> <span class="token number">214.7</span> GB<span class="token punctuation">,</span> <span class="token number">214748364800</span> <span class="token builtin">bytes</span><span class="token punctuation">,</span> <span class="token number">419430400</span> sectors
Units <span class="token operator">=</span> sectors of <span class="token number">1</span> <span class="token operator">*</span> <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> <span class="token builtin">bytes</span>
Sector size <span class="token punctuation">(</span>logical<span class="token operator">/</span>physical<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token number">512</span> <span class="token builtin">bytes</span> <span class="token operator">/</span> <span class="token number">512</span> <span class="token builtin">bytes</span>
I<span class="token operator">/</span>O size <span class="token punctuation">(</span>minimum<span class="token operator">/</span>optimal<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token number">512</span> <span class="token builtin">bytes</span> <span class="token operator">/</span> <span class="token number">512</span> <span class="token builtin">bytes</span>
Disk label <span class="token builtin">type</span><span class="token punctuation">:</span> dos
Disk identifier<span class="token punctuation">:</span> <span class="token number">0x000e577a</span>

Device Boot Start End Blocks Id System

<span class="token operator">&lt;</span>省略部分输出<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_2-给-dev-sdb这块硬盘创建一个主分区"><a href="#_2-给-dev-sdb这块硬盘创建一个主分区" aria-hidden="true" class="header-anchor">#</a> 2,给/dev/sdb这块硬盘创建一个主分区</h2> <p>fdisk /dev/sdb，常用分区命令简介</p> <ul><li>m:显示帮助</li> <li>p:显示该硬盘下的分区</li> <li>n:创建一个分区;p表示主分区，e表示扩展分区</li> <li>d:删除一个分区</li> <li>t:修改分区类型</li> <li>w:保存退出</li></ul> <div class="language-py line-numbers-mode"><pre class="language-py"><code><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span><span class="token comment"># fdisk /dev/sdb</span>

<span class="token operator">//</span>创建一个分区
Command <span class="token punctuation">(</span>m <span class="token keyword">for</span> <span class="token builtin">help</span><span class="token punctuation">)</span><span class="token punctuation">:</span> n Partition <span class="token builtin">type</span><span class="token punctuation">:</span>
   p   primary <span class="token punctuation">(</span><span class="token number">0</span> primary<span class="token punctuation">,</span> <span class="token number">0</span> extended<span class="token punctuation">,</span> <span class="token number">4</span> free<span class="token punctuation">)</span>
   e   extended

<span class="token operator">//</span>创建住分区
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span><span class="token punctuation">:</span> p

<span class="token operator">//</span>设置分区编号，只支持<span class="token number">4</span>个主分区
Partition number <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> default <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token number">1</span>

<span class="token operator">//</span>设置其实扇区编号，直接回⻋，默认从<span class="token number">2048</span>开始，一个扇区占<span class="token number">512</span>个字节
First sector <span class="token punctuation">(</span><span class="token number">2048</span><span class="token operator">-</span><span class="token number">419430399</span><span class="token punctuation">,</span> default <span class="token number">2048</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
Using default value <span class="token number">2048</span>

<span class="token operator">//</span>设置分区大小100G（直接回撤默认全部 <span class="token number">214.7</span> GB）
Last sector<span class="token punctuation">,</span> <span class="token operator">+</span>sectors <span class="token keyword">or</span> <span class="token operator">+</span>size<span class="token punctuation">{</span>K<span class="token punctuation">,</span>M<span class="token punctuation">,</span>G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">2048</span><span class="token operator">-</span><span class="token number">419430399</span><span class="token punctuation">,</span> default <span class="token number">419430399</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token operator">+</span>100G
Partition <span class="token number">1</span> of <span class="token builtin">type</span> Linux <span class="token keyword">and</span> of size <span class="token number">100</span> GiB <span class="token keyword">is</span> <span class="token builtin">set</span>

<span class="token operator">//</span>查看创建好的分区，此时的分区表仅仅是显示，只有保存才会真正写入 Command <span class="token punctuation">(</span>m <span class="token keyword">for</span> <span class="token builtin">help</span><span class="token punctuation">)</span><span class="token punctuation">:</span> p

Disk <span class="token operator">/</span>dev<span class="token operator">/</span>sdb<span class="token punctuation">:</span> <span class="token number">214.7</span> GB<span class="token punctuation">,</span> <span class="token number">214748364800</span> <span class="token builtin">bytes</span><span class="token punctuation">,</span> <span class="token number">419430400</span> sectors
Units <span class="token operator">=</span> sectors of <span class="token number">1</span> <span class="token operator">*</span> <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> <span class="token builtin">bytes</span>
Sector size <span class="token punctuation">(</span>logical<span class="token operator">/</span>physical<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token number">512</span> <span class="token builtin">bytes</span> <span class="token operator">/</span> <span class="token number">512</span> <span class="token builtin">bytes</span>
I<span class="token operator">/</span>O size <span class="token punctuation">(</span>minimum<span class="token operator">/</span>optimal<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token number">512</span> <span class="token builtin">bytes</span> <span class="token operator">/</span> <span class="token number">512</span> <span class="token builtin">bytes</span>
Disk label <span class="token builtin">type</span><span class="token punctuation">:</span> dos
Disk identifier<span class="token punctuation">:</span> <span class="token number">0x000e577a</span>

Device Boot    Start   End         Blocks      Id  System
<span class="token operator">/</span>dev<span class="token operator">/</span>sdb1      <span class="token number">2048</span>    <span class="token number">209717247</span>   <span class="token number">104857600</span>   <span class="token number">83</span>  Linux

<span class="token operator">//</span>保存退出
Command <span class="token punctuation">(</span>m <span class="token keyword">for</span> <span class="token builtin">help</span><span class="token punctuation">)</span><span class="token punctuation">:</span> w
The partition table has been altered!
 
Calling ioctl<span class="token punctuation">(</span><span class="token punctuation">)</span> to re<span class="token operator">-</span>read partition table<span class="token punctuation">.</span>
Syncing disks<span class="token punctuation">.</span>

不放心的话，你也可以在fdisk <span class="token operator">/</span>dev<span class="token operator">/</span>sdb，进去用p在看下
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p><strong>重要:/dev/sdb1是/dev/sdb这块硬盘的第一个分区哦!</strong></p> <h2 id="_3-将硬盘的分区表写进内核"><a href="#_3-将硬盘的分区表写进内核" aria-hidden="true" class="header-anchor">#</a> 3,将硬盘的分区表写进内核</h2> <div class="language-py line-numbers-mode"><pre class="language-py"><code><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span><span class="token comment"># partprobe /dev/sdb</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_4-创建文件系统"><a href="#_4-创建文件系统" aria-hidden="true" class="header-anchor">#</a> 4,创建文件系统</h2> <p>文件系统类型比较多，我这里使用的是xfs文件系统，不同的文件系统有不同的特点。</p> <div class="language-py line-numbers-mode"><pre class="language-py"><code><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span><span class="token comment"># mkfs.xfs /dev/sdb1</span>
meta<span class="token operator">-</span>data<span class="token operator">=</span><span class="token operator">/</span>dev<span class="token operator">/</span>sdb1        isize<span class="token operator">=</span><span class="token number">256</span>     agcount<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> agsize<span class="token operator">=</span><span class="token number">6553600</span> blks
         <span class="token operator">=</span>                 sectsz<span class="token operator">=</span><span class="token number">512</span>    attr<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> projid32bit<span class="token operator">=</span><span class="token number">1</span>
         <span class="token operator">=</span>                 crc<span class="token operator">=</span><span class="token number">0</span>         finobt<span class="token operator">=</span><span class="token number">0</span>
data     <span class="token operator">=</span>                 bsize<span class="token operator">=</span><span class="token number">4096</span>    blocks<span class="token operator">=</span><span class="token number">26214400</span><span class="token punctuation">,</span> imaxpct<span class="token operator">=</span><span class="token number">25</span>
         <span class="token operator">=</span>                 sunit<span class="token operator">=</span><span class="token number">0</span>       swidth<span class="token operator">=</span><span class="token number">0</span> blks
naming   <span class="token operator">=</span>version <span class="token number">2</span>        bsize<span class="token operator">=</span><span class="token number">4096</span>    <span class="token builtin">ascii</span><span class="token operator">-</span>ci<span class="token operator">=</span><span class="token number">0</span> ftype<span class="token operator">=</span><span class="token number">0</span>
log      <span class="token operator">=</span>internal log     bsize<span class="token operator">=</span><span class="token number">4096</span>    blocks<span class="token operator">=</span><span class="token number">12800</span><span class="token punctuation">,</span> version<span class="token operator">=</span><span class="token number">2</span>
         <span class="token operator">=</span>                 sectsz<span class="token operator">=</span><span class="token number">512</span>    sunit<span class="token operator">=</span><span class="token number">0</span> blks<span class="token punctuation">,</span> lazy<span class="token operator">-</span>count<span class="token operator">=</span><span class="token number">1</span>
realtime <span class="token operator">=</span>none             extsz<span class="token operator">=</span><span class="token number">4096</span>    blocks<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> rtextents<span class="token operator">=</span><span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_5-挂载"><a href="#_5-挂载" aria-hidden="true" class="header-anchor">#</a> 5,挂载</h2> <p>所谓挂载，其实就是把这个分区和一个目录做关联，往这个目录里面写数据，就是往这个分区中写数据<br>
硬盘的挂载，最好是永久挂载，所以设置/etc/fstab</p> <div class="language-py line-numbers-mode"><pre class="language-py"><code><span class="token operator">//</span>创建一个目录，把<span class="token operator">/</span>dev<span class="token operator">/</span>sdb1挂载到<span class="token operator">/</span>lewis中
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span><span class="token comment"># mkdir /lewis</span>

<span class="token operator">//</span>编辑<span class="token operator">/</span>etc<span class="token operator">/</span>fstab
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span><span class="token comment"># vim /etc/fstab</span>

<span class="token operator">//</span>增加如下内容
<span class="token operator">/</span>dev<span class="token operator">/</span>sdb1     <span class="token operator">/</span>lewis    xfs    defaults    <span class="token number">0</span> <span class="token number">0</span>

<span class="token operator">//</span>让系统重新读取一下<span class="token operator">/</span>etc<span class="token operator">/</span>fstab
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span><span class="token comment"># mount -a</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_6-检查"><a href="#_6-检查" aria-hidden="true" class="header-anchor">#</a> 6,检查</h2> <div class="language-py line-numbers-mode"><pre class="language-py"><code><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span><span class="token comment"># df -h</span>
Filesystem               Size  Used Avail Use<span class="token operator">%</span> Mounted on
<span class="token operator">/</span>dev<span class="token operator">/</span>mapper<span class="token operator">/</span>centos<span class="token operator">-</span>root   50G  <span class="token number">8.</span>3G   42G  <span class="token number">17</span><span class="token operator">%</span> <span class="token operator">/</span>
devtmpfs                 <span class="token number">7.</span>8G     <span class="token number">0</span>  <span class="token number">7.</span>8G   <span class="token number">0</span><span class="token operator">%</span> <span class="token operator">/</span>dev
tmpfs                    <span class="token number">7.</span>8G     <span class="token number">0</span>  <span class="token number">7.</span>8G   <span class="token number">0</span><span class="token operator">%</span> <span class="token operator">/</span>dev<span class="token operator">/</span>shm
tmpfs                    <span class="token number">7.</span>8G  <span class="token number">8.</span>9M  <span class="token number">7.</span>8G   <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>run
tmpfs                    <span class="token number">7.</span>8G     <span class="token number">0</span>  <span class="token number">7.</span>8G   <span class="token number">0</span><span class="token operator">%</span> <span class="token operator">/</span>sys<span class="token operator">/</span>fs<span class="token operator">/</span>cgroup
<span class="token operator">/</span>dev<span class="token operator">/</span>sda1                497M  127M  370M  <span class="token number">26</span><span class="token operator">%</span> <span class="token operator">/</span>boot
<span class="token operator">/</span>dev<span class="token operator">/</span>mapper<span class="token operator">/</span>centos<span class="token operator">-</span>home  142G  <span class="token number">7.</span>8G  134G   <span class="token number">6</span><span class="token operator">%</span> <span class="token operator">/</span>home
tmpfs                    <span class="token number">1.</span>6G     <span class="token number">0</span>  <span class="token number">1.</span>6G   <span class="token number">0</span><span class="token operator">%</span> <span class="token operator">/</span>run<span class="token operator">/</span>user<span class="token operator">/</span><span class="token number">0</span>
<span class="token operator">/</span>dev<span class="token operator">/</span>sdb1                100G   33M  100G   <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>lewis      <span class="token operator">//</span>看到这边已经挂载成功了
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><br> <h2 id="视频链接"><a href="#视频链接" aria-hidden="true" class="header-anchor">#</a> 视频链接</h2> <p><a href="https://www.bilibili.com/video/BV1kv411V78Y?spm_id_from=333.337.top_right_bar_window_history.content.click" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1kv411V78Y?spm_id_from=333.337.top_right_bar_window_history.content.click<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <hr> <h2 id="特别声明"><a href="#特别声明" aria-hidden="true" class="header-anchor">#</a> 特别声明</h2> <p>版权所属《B站UP主 刘贝斯》，如转载请注明《B站UP主 刘贝斯》。<br></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/4/2022, 9:54:50 AM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/fe-blog/enviroment/os/centos/mnt-old.html">centOS 7 挂载硬盘（不准确旧版）</a>→
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/fe-blog/assets/js/app.8a3559bf.js" defer></script><script src="/fe-blog/assets/js/2.fbf19223.js" defer></script><script src="/fe-blog/assets/js/30.be6becb7.js" defer></script>
  </body>
</html>
