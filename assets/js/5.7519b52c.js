(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{228:function(s,e,a){s.exports=a.p+"assets/img/nexus1.dd7fd62e.png"},229:function(s,e,a){s.exports=a.p+"assets/img/nexus2.669ba0c6.png"},230:function(s,e,a){s.exports=a.p+"assets/img/nexus3.164b2c13.png"},231:function(s,e,a){s.exports=a.p+"assets/img/nexus4.a7cdeb12.png"},232:function(s,e,a){s.exports=a.p+"assets/img/nexus5.7e05ef41.png"},233:function(s,e,a){s.exports=a.p+"assets/img/nexus6.7e78392d.png"},234:function(s,e,a){s.exports=a.p+"assets/img/nexus7.3572e6bf.png"},235:function(s,e,a){s.exports=a.p+"assets/img/DockerAuth.0f695d73.png"},236:function(s,e,a){s.exports=a.p+"assets/img/nexus8.7c515ad2.png"},237:function(s,e,a){s.exports=a.p+"assets/img/nexus9.c58318e5.png"},238:function(s,e,a){s.exports=a.p+"assets/img/nexus10.92514dde.png"},306:function(s,e,a){"use strict";a.r(e);var t=a(0),r=Object(t.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"nexus"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nexus","aria-hidden":"true"}},[s._v("#")]),s._v(" Nexus")]),s._v(" "),t("h2",{attrs:{id:"ä»‹ç»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»‹ç»","aria-hidden":"true"}},[s._v("#")]),s._v(" ä»‹ç»")]),s._v(" "),t("p",[s._v("åœ¨å‰é¢æˆ‘ä»¬å†™åˆ°ï¼Œåˆ¶å“åº“æ˜¯ "),t("strong",[s._v("æ‰¿æ¥CIæ„å»ºåçš„äº§å‡ºåˆ¶å“çš„ä»“åº“")]),s._v(" ã€‚å…·æœ‰ç‰ˆæœ¬ç®¡ç†ï¼Œå†å²ç®¡ç†ï¼Œæƒé™æ ¡éªŒç­‰åŠŸèƒ½ã€‚"),t("br"),s._v("\nåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é€‰ç”¨ "),t("strong",[s._v("Nexus3")]),s._v(" ä½œä¸ºåˆ¶å“åº“ã€‚")]),s._v(" "),t("h2",{attrs:{id:"æ‹‰å–-neuxs-é•œåƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ‹‰å–-neuxs-é•œåƒ","aria-hidden":"true"}},[s._v("#")]),s._v(" æ‹‰å– Neuxs é•œåƒ")]),s._v(" "),t("p",[s._v("è€è§„çŸ©ï¼Œå…ˆæ‹‰å–nexusé•œåƒã€‚å‘½ä»¤ä¸å¤šè§£é‡Šï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker pull sonatype/nexus3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"å¯åŠ¨-nexus-å®¹å™¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¯åŠ¨-nexus-å®¹å™¨","aria-hidden":"true"}},[s._v("#")]),s._v(" å¯åŠ¨ Nexus å®¹å™¨")]),s._v(" "),t("p",[s._v("åœ¨ "),t("code",[s._v("/home")]),s._v(" ä¸‹é¢æ–°å»ºä¸€ä¸ªåä¸º "),t("code",[s._v("nexus")]),s._v(" çš„æ–‡ä»¶å¤¹ï¼Œæ–¹ä¾¿æˆ‘ä»¬å­˜æ”¾ "),t("code",[s._v("Nexus")]),s._v(" ç›¸å…³æ•°æ®ã€‚å¹¶èµ‹äºˆæƒé™")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /home/nexus "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" /home/nexus\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ç„¶åå¯åŠ¨å®¹å™¨ã€‚")]),s._v(" "),t("div",{staticClass:"language-py line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-py"}},[t("code",[s._v("docker run "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8081")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8081")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8082")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8082")]),s._v(" \\\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("name nexus \\\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("home"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nexus"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nexus"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("data \\\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("restart always \\\nsonatype"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nexus3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("blockquote",[t("p",[s._v("Nexus çš„ä¸»æœåŠ¡ç«¯å£æ˜¯8081ï¼Œä½† Nexus Docker åˆ¶å“åº“è¿˜éœ€è¦åˆ†é…ä¸€ä¸ªæ–°çš„ç«¯å£ä½œä¸ºæœåŠ¡ç«¯å£ã€‚"),t("br"),s._v("\nè¿™é‡Œæ²¡æœ‰æ¼”ç¤ºåˆ†é…å“ªä¸ªç«¯å£ï¼Œæƒ³åˆ†é…è‡ªå·±åŠ  -p å‚æ•°å³å¯ã€‚åœ¨è¿™é‡Œæˆ‘ä½¿ç”¨8082ä½œä¸º docker æœåŠ¡ç«¯å£")])]),s._v(" "),t("p",[s._v("å°†8081ï¼Œ8082ç«¯å£æ·»åŠ åˆ°é˜²ç«å¢™è§„åˆ™å†…ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("firewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8081")]),s._v("/tcp --permanent\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8082")]),s._v("/tcp --permanent\nsystemctl reload firewalld\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("æŸ¥çœ‹é˜²ç«å¢™ç”Ÿæ•ˆçš„é…ç½®:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("firewall-cmd --list-all\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("p",[s._v("å…¶ä¸­å¯ä»¥çœ‹åˆ° "),t("code",[s._v("8081")]),s._v(" å’Œ "),t("code",[s._v("8082")]),s._v(" å·²ç»åŠ å…¥åˆ°é˜²ç«å¢™")])]),s._v(" "),t("h2",{attrs:{id:"è®¿é—®-nexus"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è®¿é—®-nexus","aria-hidden":"true"}},[s._v("#")]),s._v(" è®¿é—® Nexus")]),s._v(" "),t("p",[s._v("æ‰“å¼€æµè§ˆå™¨åœ°å€æ ï¼Œè®¿é—® "),t("code",[s._v("Nexus")]),s._v(" çš„æœåŠ¡åœ°å€ã€‚å¯åŠ¨æ—¶é—´æ¯”è¾ƒé•¿ï¼Œéœ€è¦è€å¿ƒç­‰å¾…ã€‚å¯ä»¥ä½¿ç”¨ "),t("code",[s._v("docker logs")]),s._v(" å‘½ä»¤æŸ¥çœ‹å¯åŠ¨æ—¥å¿—ã€‚å¦‚æœæ˜¾ç¤ºä»¥ä¸‹æ–‡å­—ï¼Œä»£è¡¨å¯åŠ¨æˆåŠŸã€‚")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker logs -f nexus\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:a(228),alt:"image"}})]),s._v(" "),t("p",[t("img",{attrs:{src:a(229),alt:"image"}})]),s._v(" "),t("h2",{attrs:{id:"é…ç½®-nexus"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®-nexus","aria-hidden":"true"}},[s._v("#")]),s._v(" é…ç½® Nexus")]),s._v(" "),t("p",[s._v("å¯åŠ¨æˆåŠŸåï¼Œä¼šæ˜¾ç¤ºä¸Šå›¾æç¤ºæ–‡å­—ã€‚éœ€è¦æˆ‘ä»¬è¾“å…¥ "),t("code",[s._v("é»˜è®¤å¯†ç ")]),s._v(" åˆå§‹åŒ–é…ç½®ã€‚å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /home/nexus/admin.password\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 6cd3cb39-2479-48ca-8ca0-831342b6f29d")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("å°†è·å–åˆ°çš„å¯†ç è¾“å…¥è¿›å»ï¼Œç”¨æˆ·æ˜¯ "),t("code",[s._v("admin")]),s._v(" ã€‚")]),s._v(" "),t("p",[s._v("ä¿®æ”¹æ–°å¯†ç åï¼Œä¼šè¿›å…¥åˆ°è¿™ä¸€æ­¥ã€‚è¿™ä¸€æ­¥çš„æ„æ€æ˜¯ "),t("strong",[s._v('"æ˜¯å¦å¼€å¯åŒ¿åè®¿é—®"')]),s._v("ã€‚åŒ¿åè®¿é—®æ˜¯æŒ‡ï¼š"),t("strong",[s._v("æˆ‘ä»¬åœ¨ä»»ä½•æ²¡æœ‰ç™»å½•çš„æƒ…å†µä¸‹ï¼Œæ‹‰å–ï¼ˆæ¨é€ï¼‰åˆ¶å“åˆ°åˆ¶å“åº“ï¼Œéƒ½ç®—åŒ¿åè®¿é—®ã€‚")]),s._v(" è¿™æ˜¯ä¸ªå¾ˆä¾¿æ·ï¼Œä¹Ÿå¾ˆå±é™© "),t("code",[s._v("âš ï¸")]),s._v(" çš„è¡Œä¸ºã€‚")]),s._v(" "),t("p",[s._v("ä¾‹å¦‚ï¼Œè¿™ä¸ªåˆ¶å“åº“ä¹Ÿæ”¯æŒ node çš„ "),t("code",[s._v("NPM")]),s._v(" ç§æœ‰åº“ã€‚é‚£ä¹ˆæˆ‘ä»¬åœ¨æ²¡æœ‰ "),t("code",[s._v("npm login")]),s._v(" è¿™ä¸ªåˆ¶å“åº“ä¹‹å‰ï¼Œå°±å¯ä»¥è¿›è¡Œ "),t("code",[s._v("npm install")]),s._v(" "),t("code",[s._v("npm publish")]),s._v(" ï¼Œå…¶å®æ˜¯ä¸å¤ªå®‰å…¨çš„ã€‚é‚£ä¹ˆä»»ä½•ä¸€ä¸ªçŸ¥é“åˆ¶å“åº“åœ°å€çš„äººï¼Œéƒ½å¯ä»¥ä»»æ„è¿›è¡Œæ¨é€å’Œè·å–èµ„æºã€‚")]),s._v(" "),t("p",[t("strong",[s._v("è¿™é‡Œæˆ‘ä»¬ä¸ºäº†æµ‹è¯•ï¼Œå¯ä»¥å…ˆå…è®¸å¼€å¯åŒ¿åè®¿é—®")]),s._v("ã€‚é€‰æ‹© "),t("strong",[s._v("Enable")]),s._v(" "),t("strong",[s._v("anonymous")]),s._v(" "),t("strong",[s._v("access")]),s._v(" ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:a(230),alt:"image"}})]),s._v(" "),t("h2",{attrs:{id:"åˆ›å»ºä¸€ä¸ª-docker-ç§æœ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºä¸€ä¸ª-docker-ç§æœ","aria-hidden":"true"}},[s._v("#")]),s._v(" åˆ›å»ºä¸€ä¸ª Docker ç§æœ")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬ä½¿ç”¨æœ‰æƒé™çš„è´¦å·ç™»å½•åï¼Œç‚¹å‡»é¡µé¢å¤´éƒ¨å¯¼èˆªæ çš„ é½¿è½® å›¾æ ‡ï¼Œé€‰æ‹©å·¦ä¾§èœå•ä¸­çš„ "),t("code",[s._v("Repositories")]),s._v(" ï¼Œç‚¹å‡» "),t("code",[s._v("Create repository")]),s._v(" ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:a(231),alt:"image"}})]),s._v(" "),t("p",[s._v("ç‚¹å‡»åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªåˆ—è¡¨ï¼Œè¿™å°±æ˜¯Nexusæ‰€æ”¯æŒçš„åˆ¶å“åº“ç±»å‹ã€‚å…¶ä¸­æœ‰æˆ‘ä»¬è¦ä½¿ç”¨çš„Dockerï¼Œä¹Ÿæœ‰ç†Ÿæ‚‰çš„ Npmã€‚æˆ‘ä»¬åœ¨é‡Œé¢æ‰¾åˆ° Dockerï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:a(232),alt:"image"}})]),s._v(" "),t("p",[s._v("ä½†æ˜¯ "),t("code",[s._v("Docker")]),s._v(" æœ‰ä¸‰ç§ï¼Œè¯¥é€‰å“ªä¸ªå‘¢ï¼Ÿ")]),s._v(" "),t("h3",{attrs:{id:"åˆ¶å“åº“çš„ç±»å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åˆ¶å“åº“çš„ç±»å‹","aria-hidden":"true"}},[s._v("#")]),s._v(" åˆ¶å“åº“çš„ç±»å‹")]),s._v(" "),t("p",[s._v("åœ¨Nexusä¸­ï¼Œæ— è®ºä»€ä¹ˆåˆ¶å“åº“ï¼Œä¸€èˆ¬åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§ç±»å‹ï¼š")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("proxy: æ­¤ç±»å‹åˆ¶å“åº“åŸåˆ™ä¸Š "),t("strong",[s._v("â€œåªä¸‹è½½ï¼Œä¸å…è®¸ç”¨æˆ·æ¨é€â€")]),s._v("ã€‚å¯ä»¥ç†è§£ä¸º"),t("strong",[s._v("ç¼“å­˜å¤–ç½‘åˆ¶å“çš„åˆ¶å“åº“")]),s._v("ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨æ‹‰å–nginxé•œåƒæ—¶ï¼Œå¦‚æœé€šè¿‡proxyç±»å‹çš„åˆ¶å“åº“ï¼Œåˆ™å®ƒä¼šå»åˆ›å»ºæ—¶é…ç½®å¥½çš„å¤–ç½‘dockeré•œåƒæºæ‹‰å–ï¼ˆæœ‰ç‚¹åƒcnpmï¼‰åˆ°è‡ªå·±çš„åˆ¶å“åº“ï¼Œç„¶åç»™ä½ ã€‚ç¬¬äºŒæ¬¡æ‹‰å–ï¼Œåˆ™ä¸ä¼šä¸‹è½½ã€‚èµ·åˆ° "),t("code",[s._v("ç¼“å­˜")]),s._v(" çš„ä½œç”¨ã€‚\n"),t("br")])]),s._v(" "),t("li",[t("p",[s._v("hostedï¼šæ­¤ç±»å‹åˆ¶å“åº“å’Œproxyç›¸åï¼ŒåŸåˆ™ä¸Š "),t("strong",[s._v("â€åªå…è®¸ç”¨æˆ·æ¨é€ï¼Œä¸å…è®¸ç¼“å­˜â€œ")]),s._v(" ã€‚è¿™æ˜¯ç§æœ‰åº“çš„æ ¸å¿ƒï¼Œåªå­˜æ”¾è‡ªå·±çš„ç§æœ‰é•œåƒæˆ–åˆ¶å“ã€‚\n"),t("br")])]),s._v(" "),t("li",[t("p",[s._v("groupï¼šæ­¤ç±»å‹åˆ¶å“åº“ç”¨ä½œä»¥ä¸Šä¸¤ç§ç±»å‹çš„ "),t("strong",[s._v("â€œé›†åˆâ€")]),s._v(" ï¼Œå°†ä¸Šé¢ä¸¤ä¸ªåº“é›†åˆä¸ºä¸€ä¸ªä½¿ç”¨ã€‚")])])]),s._v(" "),t("h3",{attrs:{id:"è¡¨å•è§£é‡Š"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è¡¨å•è§£é‡Š","aria-hidden":"true"}},[s._v("#")]),s._v(" è¡¨å•è§£é‡Š")]),s._v(" "),t("p",[s._v("åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å…¶å®ä¸éœ€è¦"),t("strong",[s._v("ç¼“å­˜å¤–ç½‘é•œåƒ")]),s._v("ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦ "),t("strong",[s._v("hostedç±»å‹")]),s._v(" å³å¯ã€‚é€‰æ‹© "),t("strong",[s._v("docker(hosted)")]),s._v("ã€‚")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬å°†å¯åŠ¨Nexusé•œåƒæ—¶ï¼Œé…ç½®å¥½çš„ Docker ç«¯å£å¡«å…¥HTTP å†…ï¼Œå¯ä»¥å…ˆå…è®¸åŒ¿åæ‹‰å–é•œåƒã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:a(233),alt:"image"}})]),s._v(" "),t("p",[s._v("å¡«å†™å®Œæˆåï¼Œç‚¹å‡»æœ€ä¸‹æ–¹çš„ Create repositoryï¼Œä¿å­˜åˆ›å»ºã€‚")]),s._v(" "),t("h3",{attrs:{id:"æŸ¥çœ‹åˆ¶å“åœ°å€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æŸ¥çœ‹åˆ¶å“åœ°å€","aria-hidden":"true"}},[s._v("#")]),s._v(" æŸ¥çœ‹åˆ¶å“åœ°å€")]),s._v(" "),t("p",[s._v("æ‰¾åˆ°æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„åˆ¶å“ï¼Œç‚¹å‡»ä¸Šé¢çš„ "),t("strong",[s._v("copy")]),s._v("ï¼ŒæŸ¥çœ‹åœ°å€ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:a(234),alt:"image"}})]),s._v(" "),t("h3",{attrs:{id:"é…ç½®ç™»å½•dockeræƒé™"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®ç™»å½•dockeræƒé™","aria-hidden":"true"}},[s._v("#")]),s._v(" é…ç½®ç™»å½•"),t("code",[s._v("Docker")]),s._v("æƒé™")]),s._v(" "),t("p",[s._v("å¦‚æœå¯åŠ¨åŒ¿åæ‹‰å–é•œåƒ "),t("code",[s._v("Allow anonymous docker pull")]),s._v(" åˆ™éœ€è¦é…ç½® "),t("code",[s._v("Docker Bearer Token Realm")]),s._v(" "),t("img",{attrs:{src:a(235),alt:"image"}})]),s._v(" "),t("h2",{attrs:{id:"ç™»å½•åˆ¶å“åº“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç™»å½•åˆ¶å“åº“","aria-hidden":"true"}},[s._v("#")]),s._v(" ç™»å½•åˆ¶å“åº“")]),s._v(" "),t("p",[s._v("ç§æœå»ºè®¾å®Œæˆåï¼Œè¿˜éœ€è¦åœ¨å®¢æˆ·ç«¯é…ç½®ä¸€ä¸‹æ‰å¯ä»¥ä½¿ç”¨ã€‚"),t("br"),s._v("\næ‰¾åˆ° "),t("code",[s._v("daemon.json")]),s._v(" æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶æè¿°äº†å½“å‰dockeré…ç½®çš„é•œåƒåŠ é€Ÿåœ°å€ï¼Œå’Œé…ç½®è¿‡çš„ç§æœåœ°å€ã€‚")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/docker/daemon.json\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("æ‰¾åˆ° "),t("code",[s._v("insecure-registries")]),s._v(" å­—æ®µï¼Œå¦‚æœä¸å­˜åœ¨å°±è‡ªå·±æ·»åŠ ä¸€ä¸ªã€‚å€¼æ˜¯æ•°ç»„ç±»å‹ï¼Œæ·»åŠ ä¸€æ¡ä½ çš„åˆ¶å“åº“åœ°å€ã€‚ä¾‹å¦‚ï¼š")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('{\n  "registry-mirrors": ["https://ä¹‹å‰é…ç½®çš„é˜¿é‡Œäº‘é•œåƒ.mirror.aliyuncs.com"],\n  "insecure-registries": ["172.16.81.50:8082"]\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("blockquote",[t("p",[s._v("æ³¨æ„jsonæ ¼å¼ï¼Œä¸èƒ½æœ‰å¤šä½™çš„é€—å·"),t("br"),s._v("\nè¿™é‡Œæ³¨æ„ï¼Œnexusæ˜¾ç¤ºçš„é•œåƒåº“ç«¯å£ä¸ºnexusæœåŠ¡ç«¯å£ï¼Œè¦æ›¿æ¢ä¸ºè‡ªå·±é…ç½®çš„ç«¯å£æ‰æœ‰æ•ˆã€‚")])]),s._v(" "),t("p",[s._v("ä¿å­˜é€€å‡ºï¼Œé‡å¯ Docker")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("systemctl daemon-reload\nsystemctl restart docker\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("æ¥ç€ä½¿ç”¨ docker login å‘½ä»¤å°è¯•ç™»å½•ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker login æœåŠ¡IP:ç«¯å£\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("p",[s._v("ç™»å½•"),t("code",[s._v("login credentials")]),s._v("ä¼šè®°å½•åœ¨"),t("code",[s._v("/root/.docker/config.json")]),s._v("ä¸­"),t("br"),s._v("\nå¦‚æœä¸è¿›è¡Œ"),t("code",[s._v("docker logout æœåŠ¡å™¨ip:ç«¯å£")]),s._v("æ“ä½œï¼Œåˆ™æœåŠ¡å™¨é‡å¯åæ— éœ€å†æ¬¡ç™»å½•")])]),s._v(" "),t("p",[s._v("å¦‚æœæç¤ºï¼š"),t("strong",[s._v("Login Succeeded")]),s._v(" åˆ™ä»£è¡¨ç™»å½•æˆåŠŸã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:a(236),alt:"image"}})]),s._v(" "),t("h2",{attrs:{id:"æ¨é€é•œåƒåˆ°åˆ¶å“åº“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¨é€é•œåƒåˆ°åˆ¶å“åº“","aria-hidden":"true"}},[s._v("#")]),s._v(" æ¨é€é•œåƒåˆ°åˆ¶å“åº“")]),s._v(" "),t("p",[s._v("åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ "),t("code",[s._v("docker push")]),s._v(" å‘½ä»¤æ¨é€ä¸€ä¸ªæœ¬åœ°çš„é•œåƒåˆ°è¿œç¨‹åˆ¶å“åº“ã€‚"),t("br"),s._v("\nè¿˜è®°å¾—åœ¨æˆ‘ä»¬å‰é¢å®‰è£… "),t("code",[s._v("Jenkins")]),s._v(" æ—¶ï¼Œä½¿ç”¨è¿‡ "),t("code",[s._v("DockerFile")]),s._v(" ç”Ÿæˆäº†è‡ªå·±çš„ "),t("code",[s._v("Jenkins")]),s._v(" é•œåƒ -"),t("code",[s._v("local/jenkins")]),s._v(" ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°è¯•ï¼Œå°† "),t("code",[s._v("local/jenkins")]),s._v(" æ¨é€åˆ°åˆ¶å“åº“ã€‚"),t("br")]),s._v(" "),t("p",[s._v("ä½†æ˜¯ï¼Œdockeråœ¨æ¨é€ä¸€ä¸ªé•œåƒæ—¶ï¼Œ"),t("strong",[s._v("é•œåƒçš„ Tag (åç§°:ç‰ˆæœ¬å·) å¿…é¡»å¼€å¤´å¸¦ç€é•œåƒåº“çš„åœ°å€ï¼Œæ‰å¯ä»¥æ¨é€")]),s._v("ã€‚ä¾‹å¦‚ä¸‹é¢ä¸¤ä¸ªé•œåƒï¼š"),t("br"),s._v("\nğŸ™… "),t("strong",[s._v("local/jenkins")]),s._v(" ä¸èƒ½æ¨é€"),t("br"),s._v("\nğŸ™† "),t("strong",[s._v("172.16.81.150:8082/local/jenkins")]),s._v(" å¯ä»¥æ¨é€ã€‚"),t("br")]),s._v(" "),t("p",[s._v("é‚£æˆ‘ä»¬æ€ä¹ˆæ‰èƒ½æ¨é€ä¸Šå»å‘¢ï¼Ÿ")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("åˆ¶ä½œä¸€ä»½å¸¦é•œåƒåº“åœ°å€çš„é•œåƒï¼šè¿™ä¸ªå¯ä»¥åšï¼Œä½†æ˜¯å¼€é”€å¤ªå¤§ï¼Œéœ€è¦èµ°ä¸€éåˆ¶ä½œæµç¨‹")])]),s._v(" "),t("li",[t("strong",[s._v("ä½¿ç”¨ docker")]),s._v(" "),t("strong",[s._v("tag å‘½ä»¤ç»™å·²æœ‰çš„é•œåƒæ‰“ä¸ªæ ‡ç­¾ï¼šæ¨èä½¿ç”¨ï¼Œä¼šå°†å·²æœ‰çš„é•œåƒå½’ä½æŸä¸ªé•œåƒåº“å†…ã€‚å¦‚ä¸‹é¢æ ¼å¼")])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker tag <é•œåƒID> æ–°é•œåƒåç§°[:ç‰ˆæœ¬]")]),s._v("\ndocker tag bd695e3e4317 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".81.150:8082/local/jenkins\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("blockquote",[t("p",[s._v("æŸ¥çœ‹æœåŠ¡å™¨ä¸Šçš„dockeré•œåƒåˆ—è¡¨ï¼Œå¯ä»¥ä½¿ç”¨docker imagesæŸ¥çœ‹")])]),s._v(" "),t("p",[s._v("è¿™æ ·ï¼Œå°±å¯ä»¥é‡æ–°æ‰“ä¸€ä¸ªå…¨æ–°çš„tagï¼Œå®ç° â€œé‡å‘½åâ€ åŠŸèƒ½ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:a(237),alt:"image"}})]),s._v(" "),t("p",[s._v("æ¥ç€æˆ‘ä»¬ä½¿ç”¨ "),t("code",[s._v("docker push")]),s._v("å‘½ä»¤è¿›è¡Œæ¨é€ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker push "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".81.150:8082/local/jenkins\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:a(238),alt:"image"}})]),s._v(" "),t("p",[s._v("åˆ°è¿™é‡Œï¼Œå°±ä»£è¡¨æ¨é€æˆåŠŸã€‚")])])}),[],!1,null,null,null);e.default=r.exports}}]);